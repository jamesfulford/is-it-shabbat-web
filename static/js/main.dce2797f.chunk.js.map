{"version":3,"sources":["../../core/lib/utilities.js","../../core/lib/localization/index.js","../../core/lib/localization/en.js","initialization.js","components/IsItShabbat.js","utilities/formatDuration.js","App.js","serviceWorker.js","index.js","../../core/lib/index.js","../../core/lib/api/hebcal.js","../../core/lib/state/store.js","../../core/lib/api/index.js","../../core/lib/components/index.js","../../core/lib/components/CountDown.js","../../core/lib/components/ShabbatCheck.js","../../core/lib/state/index.js","../../core/lib/state/action.js","../../core/lib/styles.js"],"names":["Object","defineProperty","exports","value","enumerable","get","_luxon","DateTime","__webpack_require__","_interopRequireDefault","default","_default","en","_status","_endEventName","_startEventName","_defineProperty2","_shabbatLogic","translate","title","copyright","status","is","SHABBAT","NOT_SHABBAT","CANDLELIGHTING","endEventName","startEventName","screens","settings","info","utilities","defaultLocation","coords","latitude","longitude","initialization","asyncToGenerator","regenerator_default","a","mark","_callee","wrap","_context","prev","next","abrupt","Promise","all","resolve","navigator","geolocation","getCurrentPosition","location","then","act","action","initialize","local","state","dispatch","stop","ShabbatCheck","components","CountDown","localization","connect","now","_ref","react_default","createElement","period","countDownTo","Fragment","id","end","start","callback","setNow","dur","_dur$shiftTo$toObject","shiftTo","toObject","days","hours","minutes","seconds","concat","underAWeek","SETUP_STATE","Uninitialized","App","_useState","useState","_useState2","slicedToArray","initialized","setInitialized","useEffect","className","es","store","components_IsItShabbat","App_Uninitialized","isLocalhost","Boolean","window","hostname","match","registerValidSW","swUrl","config","serviceWorker","register","registration","onupdatefound","installingWorker","installing","onstatechange","controller","console","log","onUpdate","onSuccess","catch","error","ReactDOM","render","src_App","document","getElementById","URL","process","href","origin","addEventListener","fetch","response","contentType","headers","indexOf","ready","unregister","reload","checkValidServiceWorker","_interopRequireWildcard","_api","_localization","styles","getHolidaysAsync","sendHolidayRequestAsync","_regenerator","_slicedToArray2","_asyncToGenerator2","_objectSpread2","axios","baseParams","v","cfg","c","D","d","defaultConfig","maj","min","mod","nx","ss","s","mf","o","lg","i","t","overrides","method","url","params","year","month","months","monthArr","hebdates","holidays","_args","arguments","length","undefined","Array","fill","map","_","m","plus","resps","data","items","reduce","x","sent","Map","filter","category","forEach","date","h","_h$date$split$map","split","Number","_h$date$split$map2","day","hebdate","fromObject","hour","minute","second","zone","minus","_x","_x2","apply","this","reducer","defaultState","_redux","_tzLookup","convertNow","setZone","lastHolidayRequest","type","createStore","_hebcal","keys","key","_CountDown2","_ShabbatCheck2","_classCallCheck2","_createClass2","_possibleConstructorReturn2","_getPrototypeOf2","_inherits2","_react","_propTypes","_Component","props","_this","call","realNow","startCountdown","_this2","refreshInterval","timerId","setInterval","tick","clearInterval","realStart","_this$props","diff","setState","update","durationLeft","getTime","children","Component","propTypes","instanceOf","isRequired","number","func","defaultProps","_location$coords","_isItShabbat","isItShabbat","shape","_exportNames","_store","_action","prototype","hasOwnProperty","updateHolidays","setLocation","force","_store$getState","getState","hs","setHolidays","sunset","subscribe","size","fonts","colors","background","textMain","textSubtle","primary","secondary","subtitle"],"mappings":"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","file":"static/js/main.dce2797f.chunk.js","sourcesContent":["\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nObject.defineProperty(exports, \"DateTime\", {\n  enumerable: true,\n  get: function get() {\n    return _luxon.DateTime;\n  }\n});\n\nvar _luxon = require(\"luxon\");","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _en = _interopRequireDefault(require(\"./en\")); // resources to i18n\n\n\nvar _default = {\n  en: _en.default\n};\nexports.default = _default;","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _defineProperty2 = _interopRequireDefault(require(\"@babel/runtime/helpers/defineProperty\"));\n\nvar _shabbatLogic = require(\"shabbat-logic\");\n\nvar _status, _endEventName, _startEventName;\n\nvar _default = {\n  translate: {\n    title: 'Is It Shabbat?',\n    copyright: 'Â© 2019, James Fulford and Jessica Fulford.',\n    status: (_status = {}, (0, _defineProperty2.default)(_status, _shabbatLogic.is.SHABBAT, 'Yes!'), (0, _defineProperty2.default)(_status, _shabbatLogic.is.NOT_SHABBAT, 'No...'), (0, _defineProperty2.default)(_status, _shabbatLogic.is.CANDLELIGHTING, 'Almost...'), _status),\n    endEventName: (_endEventName = {}, (0, _defineProperty2.default)(_endEventName, _shabbatLogic.is.SHABBAT, 'until Shabbat ends'), (0, _defineProperty2.default)(_endEventName, _shabbatLogic.is.NOT_SHABBAT, 'until candle lighting'), (0, _defineProperty2.default)(_endEventName, _shabbatLogic.is.CANDLELIGHTING, 'until Shabbat begins'), _endEventName),\n    startEventName: (_startEventName = {}, (0, _defineProperty2.default)(_startEventName, _shabbatLogic.is.SHABBAT, 'Shabbat ends'), (0, _defineProperty2.default)(_startEventName, _shabbatLogic.is.NOT_SHABBAT, 'Candle Lighting'), (0, _defineProperty2.default)(_startEventName, _shabbatLogic.is.CANDLELIGHTING, 'Shabbat begins'), _startEventName),\n    screens: {\n      settings: 'Settings',\n      info: 'Credits'\n    }\n  }\n};\nexports.default = _default;","import {\n    utilities,\n    action,\n    state,\n} from 'is-it-shabbat-core';\n\nconst { DateTime } = utilities;\n\nconst defaultLocation = {\n    // TODO(james.fulford): get location by IP\n    coords: {\n        latitude: 31.776875,\n        longitude: 35.233673,\n    },\n};\n\nconst getLocationAsync = () => new Promise((resolve) => {\n    if (navigator.geolocation) {\n        navigator.geolocation.getCurrentPosition(\n            (location) => {\n                resolve(location);\n            },\n            () => resolve(defaultLocation),\n        );\n    } else {\n        resolve(defaultLocation);\n        // reject('No geolocation available for this browser');\n    }\n});\n\nexport default async () => Promise.all([\n    getLocationAsync().then((location) => {\n        const act = action.initialize(\n            DateTime.local(),\n            // // Done at (43, -71)\n            // eslint-disable-next-line\n            // DateTime.fromObject({ zone: \"America/New_York\", year: 2018, month: 8, day: 22, hour: 7, minute: 0, second: 0 }),\n            // eslint-disable-next-line\n            // DateTime.fromObject({ zone: \"America/New_York\", year: 2018, month: 8, day: 24, hour: 14, minute: 0, second: 0 }),\n            // eslint-disable-next-line\n            // DateTime.fromObject({ zone: \"America/New_York\", year: 2018, month: 8, day: 24, hour: 19, minute: 18, second: 10 }),\n            // eslint-disable-next-line\n            // DateTime.fromObject({ zone: \"America/New_York\", year: 2018, month: 8, day: 24, hour: 19, minute: 22, second: 30 }),\n            // eslint-disable-next-line\n            // DateTime.fromObject({ zone: \"America/New_York\", year: 2018, month: 8, day: 24, hour: 19, minute: 36, second: 10 }),\n            // eslint-disable-next-line\n            // DateTime.fromObject({ zone: \"America/New_York\", year: 2018, month: 8, day: 24, hour: 21, minute: 0, second: 0 }),\n            // eslint-disable-next-line\n            // DateTime.fromObject({ zone: \"America/New_York\", year: 2018, month: 8, day: 24, hour: 23, minute: 59, second: 55 }),\n            // eslint-disable-next-line\n            // DateTime.fromObject({ zone: \"America/New_York\", year: 2018, month: 8, day: 25, hour: 14, minute: 0, second: 0 }),\n            // eslint-disable-next-line\n            // DateTime.fromObject({ zone: \"America/New_York\", year: 2018, month: 8, day: 25, hour: 20, minute: 16, second: 32 }),\n            // eslint-disable-next-line\n            // DateTime.fromObject({ zone: \"America/New_York\", year: 2018, month: 8, day: 25, hour: 21, minute: 0, second: 0 }),\n            // eslint-disable-next-line\n            // DateTime.fromObject({ zone: \"America/New_York\", year: 2018, month: 12, day: 2, hour: 15, minute: 0, second: 0 }),\n            location,\n        );\n        state.dispatch(act);\n    }),\n]);\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { DateTime } from 'luxon';\nimport { connect } from 'react-redux';\n\nimport {\n    action,\n    localization,\n    components,\n} from 'is-it-shabbat-core';\n\nimport { underAWeek } from '../utilities/formatDuration';\n\nconst { ShabbatCheck, CountDown } = components;\nconst { en: { translate } } = localization;\n\nconst IsItShabbat = ({ now, location, dispatch }) => (\n    <ShabbatCheck now={ now } location = { location }>\n        {(period, countDownTo) => (\n            <>\n            <span id=\"is-it\">{translate.status[period]}</span>\n            <span id=\"byline\" >\n                    <CountDown\n                        end={countDownTo}\n                        start={now}\n                        callback={end => dispatch(action.setNow(end))}\n                    >\n                        {dur => (\n                            <>\n                                <span id=\"days-left\">{underAWeek(dur)}</span>\n                            <br />\n                            <span id=\"day-or-days\">{translate.endEventName[period]}</span>\n                            </>\n                        )}\n                    </CountDown>\n            </span>\n            </>\n        )}\n    </ShabbatCheck>\n);\nIsItShabbat.propTypes = {\n    now: PropTypes.instanceOf(DateTime).isRequired,\n    location: PropTypes.shape({\n        coords: PropTypes.shape({\n            latitude: PropTypes.number,\n            longitude: PropTypes.number,\n        }),\n    }).isRequired,\n    dispatch: PropTypes.func.isRequired,\n};\n\nexport default connect(\n    state => ({\n        now: state.now,\n        location: state.location,\n    }),\n)(IsItShabbat);\n","\nexport const underAWeek = (dur) => {\n    const {\n        days, hours, minutes, seconds,\n    } = dur.shiftTo('days', 'hours', 'minutes', 'seconds', 'milliseconds').toObject();\n    if (minutes === 0 && hours === 0 && days === 0) {\n        return `${seconds}s`;\n    }\n    if (hours === 0 && days === 0) {\n        return `${minutes}m ${seconds}s`;\n    }\n    if (days === 0) { //\n        return `${hours}h ${minutes}m ${seconds}s`;\n    }\n    return `${days}d ${hours}h ${minutes}m ${seconds}s`;\n};\n\nexport const formatHolidayDuration = (dur) => {\n    const {\n        weeks, days, hours, minutes, seconds,\n    } = dur.shiftTo('weeks', 'days', 'hours', 'minutes', 'seconds', 'milliseconds').toObject();\n    if (weeks === 0 && days === 0 && hours <= 2) {\n        return `${hours}h ${minutes}m ${seconds}s`;\n    }\n    if (weeks === 0 && days === 0) {\n        return `${hours}h ${minutes}m`;\n    }\n    if (weeks === 0) {\n        return `${days}d ${hours}h`;\n    }\n    if (weeks <= 2) {\n        return `${weeks}w ${days}d`;\n    }\n    return `${weeks}w`;\n};\n","import React, { useState, useEffect } from 'react';\nimport { Provider } from 'react-redux';\n\nimport {\n  state,\n  localization,\n} from 'is-it-shabbat-core';\nimport { is } from 'shabbat-logic';\n\nimport initialize from './initialization';\nimport IsItShabbat from './components/IsItShabbat';\n\nconst { en: { translate } } = localization;\n\nconst SETUP_STATE = {\n  SETUP_NEEDED: 0,\n  LOADING: 1,\n  DONE: 2,\n};\n\nconst Uninitialized = () => (\n  <>\n  <span id=\"is-it\">-</span>\n  <span id=\"byline\">\n    <span id=\"days-left\">-</span>\n    <br />\n      <span id=\"day-or-days\">{translate.endEventName[is.NOT_SHABBAT]}</span>\n  </span>\n  </>\n);\n\nconst App = () => {\n  const [initialized, setInitialized] = useState(SETUP_STATE.SETUP_NEEDED);\n\n  useEffect(() => {\n    if (initialized === SETUP_STATE.SETUP_NEEDED) {\n      setInitialized(SETUP_STATE.LOADING);\n      initialize().then(() => {\n        setInitialized(SETUP_STATE.DONE);\n      });\n    }\n  });\n\n  return (\n    <div className=\"container\">\n      <span id=\"title\">Is It Shabbat?</span>\n      {\n        initialized === SETUP_STATE.DONE\n          ? (\n            <Provider store={state}>\n              <IsItShabbat />\n            </Provider>\n          ) : <Uninitialized />\n      }\n    </div>\n  );\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\nserviceWorker.register();\n","\"use strict\";\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nObject.defineProperty(exports, \"api\", {\n  enumerable: true,\n  get: function get() {\n    return _api.default;\n  }\n});\nObject.defineProperty(exports, \"state\", {\n  enumerable: true,\n  get: function get() {\n    return action.default;\n  }\n});\nObject.defineProperty(exports, \"localization\", {\n  enumerable: true,\n  get: function get() {\n    return _localization.default;\n  }\n});\nexports.utilities = exports.styles = exports.action = exports.components = void 0;\n\nvar _api = _interopRequireDefault(require(\"./api\"));\n\nvar components = _interopRequireWildcard(require(\"./components\"));\n\nexports.components = components;\n\nvar action = _interopRequireWildcard(require(\"./state\"));\n\nexports.action = action;\n\nvar styles = _interopRequireWildcard(require(\"./styles\"));\n\nexports.styles = styles;\n\nvar utilities = _interopRequireWildcard(require(\"./utilities\"));\n\nexports.utilities = utilities;\n\nvar _localization = _interopRequireDefault(require(\"./localization\"));","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.getHolidaysAsync = exports.sendHolidayRequestAsync = void 0;\n\nvar _regenerator = _interopRequireDefault(require(\"@babel/runtime/regenerator\"));\n\nvar _slicedToArray2 = _interopRequireDefault(require(\"@babel/runtime/helpers/slicedToArray\"));\n\nvar _asyncToGenerator2 = _interopRequireDefault(require(\"@babel/runtime/helpers/asyncToGenerator\"));\n\nvar _objectSpread2 = _interopRequireDefault(require(\"@babel/runtime/helpers/objectSpread\"));\n\nvar axios = require('axios');\n\nvar _require = require('luxon'),\n    DateTime = _require.DateTime;\n\nvar baseParams = {\n  v: 1,\n  cfg: 'json',\n  // Candlelighting\n  c: 'off',\n  // hebdate: includes items with .memo giving hebrew date,\n  // i.e. '1st of Kislev, 5779'. hebdate items are separate from holidays\n  D: 'on',\n  // hebdate for every holiday\n  d: 'off' // hebdate for every hebrew day in the month\n\n};\nvar defaultConfig = {\n  // Holidays\n  maj: 'on',\n  min: 'off',\n  mod: 'off',\n  nx: 'on',\n  ss: 'off',\n  s: 'off',\n  mf: 'off',\n  o: 'off',\n  // language\n  lg: 'a',\n  // Depends on location (Israel)\n  i: 'off'\n};\n\nvar sendHolidayRequestAsync = function sendHolidayRequestAsync(t, overrides) {\n  return axios({\n    method: 'get',\n    url: 'https://www.hebcal.com/hebcal/',\n    params: (0, _objectSpread2.default)({}, defaultConfig, overrides, {\n      // Depends on current time\n      year: t.year,\n      month: t.month\n    }, baseParams)\n  });\n};\n\nexports.sendHolidayRequestAsync = sendHolidayRequestAsync;\n\nvar getHolidaysAsync =\n/*#__PURE__*/\nfunction () {\n  var _ref = (0, _asyncToGenerator2.default)(\n  /*#__PURE__*/\n  _regenerator.default.mark(function _callee(now, months) {\n    var overrides,\n        monthArr,\n        days,\n        hebdates,\n        holidays,\n        _args = arguments;\n    return _regenerator.default.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            overrides = _args.length > 2 && _args[2] !== undefined ? _args[2] : {};\n\n            if (!(months <= 0)) {\n              _context.next = 3;\n              break;\n            }\n\n            return _context.abrupt(\"return\", []);\n\n          case 3:\n            monthArr = Array(months).fill().map(function (_, i) {\n              return i;\n            }).map(function (m) {\n              return now.plus({\n                months: m\n              });\n            });\n            _context.next = 6;\n            return Promise.all(monthArr.map(function (t) {\n              return sendHolidayRequestAsync(t, overrides);\n            })).then(function (resps) {\n              return resps.map(function (response) {\n                return response.data.items;\n              }).reduce(function (a, x) {\n                return a.concat(x);\n              });\n            });\n\n          case 6:\n            days = _context.sent; // date to hebrew date string mapping\n\n            hebdates = new Map();\n            days.filter(function (i) {\n              return i.category === 'hebdate';\n            }).forEach(function (i) {\n              hebdates[i.date] = i.title;\n            }); // preparing holidays list\n\n            holidays = days.filter(function (i) {\n              return i.category !== 'hebdate';\n            });\n            return _context.abrupt(\"return\", holidays.map(function (h) {\n              var _h$date$split$map = h.date.split('-').map(Number),\n                  _h$date$split$map2 = (0, _slicedToArray2.default)(_h$date$split$map, 3),\n                  year = _h$date$split$map2[0],\n                  month = _h$date$split$map2[1],\n                  day = _h$date$split$map2[2];\n\n              return (0, _objectSpread2.default)({}, h, {\n                hebdate: hebdates[h.date],\n                date: DateTime.fromObject({\n                  year: year,\n                  month: month,\n                  day: day,\n                  hour: 0,\n                  minute: 0,\n                  second: 0,\n                  zone: now.zone\n                }).minus({\n                  days: 1\n                }) // hebcal gregorian dates correspond\n                // to the END of the hebrew day.\n                // this code wants the BEGINNING of the hebrew day.\n\n              });\n            }));\n\n          case 11:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee);\n  }));\n\n  return function getHolidaysAsync(_x, _x2) {\n    return _ref.apply(this, arguments);\n  };\n}();\n\nexports.getHolidaysAsync = getHolidaysAsync;","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = exports.reducer = exports.defaultState = void 0;\n\nvar _objectSpread2 = _interopRequireDefault(require(\"@babel/runtime/helpers/objectSpread\"));\n\nvar _redux = require(\"redux\");\n\nvar _luxon = require(\"luxon\");\n\nvar _tzLookup = _interopRequireDefault(require(\"tz-lookup\"));\n\nvar convertNow = function convertNow(now, location) {\n  return {\n    now: now.setZone((0, _tzLookup.default)(location.coords.latitude, location.coords.longitude))\n  };\n};\n\nvar defaultState = {\n  // Location and timezone must match\n  now: _luxon.DateTime.local(),\n  // coords.latitude, coords.longitude must exist\n  location: null,\n  holidays: [],\n  // This DateTime does not have to care about location\n  lastHolidayRequest: null\n};\nexports.defaultState = defaultState;\n\nvar reducer = function reducer() {\n  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : defaultState;\n  var action = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {}; //\n  // Initialization\n  //\n\n  if (action.type === 'INITIALIZE') {\n    var _convertNow = convertNow(action.now, action.location),\n        now = _convertNow.now;\n\n    return (0, _objectSpread2.default)({}, state, {\n      location: action.location,\n      now: now\n    });\n  } //\n  // State changes\n  //\n\n\n  if (action.type === 'SET_LOCATION') {\n    return (0, _objectSpread2.default)({}, state, convertNow(state.now, action.location), {\n      location: action.location\n    });\n  }\n\n  if (action.type === 'SET_NOW') {\n    return (0, _objectSpread2.default)({}, state, convertNow(action.now, state.location));\n  }\n\n  if (action.type === 'SET_HOLIDAYS') {\n    return (0, _objectSpread2.default)({}, state, {\n      holidays: action.holidays,\n      lastHolidayRequest: action.now\n    });\n  }\n\n  return state;\n};\n\nexports.reducer = reducer;\n\nvar _default = (0, _redux.createStore)(reducer);\n\nexports.default = _default;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _hebcal = require(\"./hebcal\");\n\nObject.keys(_hebcal).forEach(function (key) {\n  if (key === \"default\" || key === \"__esModule\") return;\n  Object.defineProperty(exports, key, {\n    enumerable: true,\n    get: function get() {\n      return _hebcal[key];\n    }\n  });\n});","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nObject.defineProperty(exports, \"CountDown\", {\n  enumerable: true,\n  get: function get() {\n    return _CountDown2.default;\n  }\n});\nObject.defineProperty(exports, \"ShabbatCheck\", {\n  enumerable: true,\n  get: function get() {\n    return _ShabbatCheck2.default;\n  }\n});\n\nvar _CountDown2 = _interopRequireDefault(require(\"./CountDown\"));\n\nvar _ShabbatCheck2 = _interopRequireDefault(require(\"./ShabbatCheck\"));","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _classCallCheck2 = _interopRequireDefault(require(\"@babel/runtime/helpers/classCallCheck\"));\n\nvar _createClass2 = _interopRequireDefault(require(\"@babel/runtime/helpers/createClass\"));\n\nvar _possibleConstructorReturn2 = _interopRequireDefault(require(\"@babel/runtime/helpers/possibleConstructorReturn\"));\n\nvar _getPrototypeOf2 = _interopRequireDefault(require(\"@babel/runtime/helpers/getPrototypeOf\"));\n\nvar _inherits2 = _interopRequireDefault(require(\"@babel/runtime/helpers/inherits\"));\n\nvar _react = require(\"react\");\n\nvar _propTypes = _interopRequireDefault(require(\"prop-types\"));\n\nvar _luxon = require(\"luxon\");\n\nvar CountDown =\n/*#__PURE__*/\nfunction (_Component) {\n  (0, _inherits2.default)(CountDown, _Component);\n\n  function CountDown(props) {\n    var _this;\n\n    (0, _classCallCheck2.default)(this, CountDown);\n    _this = (0, _possibleConstructorReturn2.default)(this, (0, _getPrototypeOf2.default)(CountDown).call(this, props));\n    _this.state = {\n      realNow: _luxon.DateTime.local()\n    };\n\n    _this.startCountdown();\n\n    return _this;\n  }\n\n  (0, _createClass2.default)(CountDown, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this2 = this;\n\n      var refreshInterval = this.props.refreshInterval;\n      this.timerId = setInterval(function () {\n        return _this2.tick();\n      }, refreshInterval);\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      clearInterval(this.timerId);\n    }\n  }, {\n    key: \"getTime\",\n    value: function getTime() {\n      var realNow = this.state.realNow;\n      var start = this.props.start;\n      return start.plus(realNow - this.realStart);\n    }\n  }, {\n    key: \"startCountdown\",\n    value: function startCountdown() {\n      this.realStart = _luxon.DateTime.local();\n    }\n  }, {\n    key: \"durationLeft\",\n    value: function durationLeft() {\n      var _this$props = this.props,\n          end = _this$props.end,\n          start = _this$props.start;\n      var realNow = this.state.realNow;\n      return end.diff(start).minus(realNow - this.realStart);\n    }\n  }, {\n    key: \"update\",\n    value: function update() {\n      this.setState({\n        realNow: _luxon.DateTime.local()\n      });\n    }\n  }, {\n    key: \"tick\",\n    value: function tick() {\n      var callback = this.props.callback;\n      this.update();\n\n      if (this.durationLeft() <= 0) {\n        callback(this.getTime());\n        this.startCountdown();\n        this.update();\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var d = this.durationLeft();\n      var children = this.props.children;\n      return children(d);\n    }\n  }]);\n  return CountDown;\n}(_react.Component);\n\nexports.default = CountDown;\nCountDown.propTypes = {\n  start: _propTypes.default.instanceOf(_luxon.DateTime).isRequired,\n  end: _propTypes.default.instanceOf(_luxon.DateTime).isRequired,\n  refreshInterval: _propTypes.default.number,\n  callback: _propTypes.default.func,\n  children: _propTypes.default.func\n};\nCountDown.defaultProps = {\n  callback: function callback() {},\n  children: function children() {},\n  refreshInterval: 100\n};","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = ShabbatCheck;\n\nrequire(\"react\");\n\nvar _propTypes = _interopRequireDefault(require(\"prop-types\"));\n\nvar _luxon = require(\"luxon\");\n\nvar _shabbatLogic = require(\"shabbat-logic\");\n\nfunction ShabbatCheck(props) {\n  var now = props.now,\n      location = props.location,\n      children = props.children;\n\n  if (!location) {\n    return null;\n  }\n\n  var _location$coords = location.coords,\n      latitude = _location$coords.latitude,\n      longitude = _location$coords.longitude;\n\n  var _isItShabbat = (0, _shabbatLogic.isItShabbat)(now, latitude, longitude),\n      period = _isItShabbat.period,\n      countDownTo = _isItShabbat.countDownTo;\n\n  return children(period, countDownTo);\n}\n\nShabbatCheck.propTypes = {\n  now: _propTypes.default.instanceOf(_luxon.DateTime).isRequired,\n  location: _propTypes.default.shape({\n    coords: _propTypes.default.shape({\n      latitude: _propTypes.default.number,\n      longitude: _propTypes.default.number\n    })\n  }).isRequired,\n  children: _propTypes.default.func\n};\nShabbatCheck.defaultProps = {\n  children: function children() {}\n};","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nvar _exportNames = {};\nexports.default = void 0;\n\nvar _store = _interopRequireDefault(require(\"./store\"));\n\nvar _action = require(\"./action\");\n\nObject.keys(_action).forEach(function (key) {\n  if (key === \"default\" || key === \"__esModule\") return;\n  if (Object.prototype.hasOwnProperty.call(_exportNames, key)) return;\n  Object.defineProperty(exports, key, {\n    enumerable: true,\n    get: function get() {\n      return _action[key];\n    }\n  });\n});\nvar _default = _store.default;\nexports.default = _default;","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.updateHolidays = exports.initialize = exports.setLocation = exports.setNow = void 0;\n\nvar _objectSpread2 = _interopRequireDefault(require(\"@babel/runtime/helpers/objectSpread\"));\n\nvar _shabbatLogic = require(\"shabbat-logic\");\n\nvar _hebcal = require(\"../api/hebcal\");\n\nvar _store = _interopRequireDefault(require(\"./store\")); //\n// Atomic actions\n//\n// Do not export; forse use of updateHolidays\n\n\nvar setNow = function setNow(now) {\n  return {\n    type: 'SET_NOW',\n    now: now\n  };\n};\n\nexports.setNow = setNow;\n\nvar setHolidays = function setHolidays(holidays, now) {\n  return {\n    type: 'SET_HOLIDAYS',\n    holidays: holidays,\n    now: now\n  };\n};\n\nvar setLocation = function setLocation(location) {\n  return {\n    type: 'SET_LOCATION',\n    location: location\n  };\n};\n\nexports.setLocation = setLocation;\n\nvar initialize = function initialize(now, location) {\n  return {\n    type: 'INITIALIZE',\n    now: now,\n    location: location\n  };\n}; //\n// Advanced actions\n//\n\n\nexports.initialize = initialize;\n\nvar updateHolidays = function updateHolidays() {\n  var force = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false; // When location or time updates\n  // and time is a different month or year,\n  // update holidays list again\n\n  var _store$getState = _store.default.getState(),\n      now = _store$getState.now,\n      location = _store$getState.location,\n      lastHolidayRequest = _store$getState.lastHolidayRequest;\n\n  if ( // update if forced\n  force // update if never updated before\n  || !lastHolidayRequest // update if its a new month and/or year\n  || now.month !== lastHolidayRequest.month || now.year !== lastHolidayRequest.year) {\n    // TODO(james.fulford): if config for Israel is \"infer\", infer here and pass in as override\n    return (0, _hebcal.getHolidaysAsync)(now, 2, {}).then(function (hs) {\n      return _store.default.dispatch(setHolidays(hs.map(function (h) {\n        return (0, _objectSpread2.default)({}, h, {\n          date: (0, _shabbatLogic.sunset)(h.date, location.coords.latitude, location.coords.longitude)\n        });\n      }).filter(function (h) {\n        return h.date > now;\n      }), now));\n    });\n  }\n\n  return Promise.resolve(false);\n};\n\nexports.updateHolidays = updateHolidays;\n\n_store.default.subscribe(updateHolidays);","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.size = exports.fonts = exports.colors = void 0;\nvar colors = {\n  background: '#3D2F40',\n  textMain: '#F4BDFF',\n  textSubtle: '#7A5F7F'\n};\nexports.colors = colors;\nvar fonts = {\n  primary: 'FredokaOne'\n};\nexports.fonts = fonts;\nvar size = {\n  title: 72,\n  secondary: 22,\n  subtitle: 18\n};\nexports.size = size;"],"sourceRoot":""}