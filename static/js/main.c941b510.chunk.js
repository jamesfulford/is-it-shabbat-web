(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{100:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"DateTime",{enumerable:!0,get:function(){return a.DateTime}});var a=n(6)},101:function(e,t,n){"use strict";var a=n(3);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o={en:a(n(102)).default};t.default=o},102:function(e,t,n){"use strict";var a=n(3);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o,r,i,u=a(n(22)),c=n(11),l={translate:{title:"Is It Shabbat?",copyright:"\xa9 2019, James Fulford and Jessica Fulford.",status:(o={},(0,u.default)(o,c.is.SHABBAT,"Yes!"),(0,u.default)(o,c.is.NOT_SHABBAT,"No..."),(0,u.default)(o,c.is.CANDLELIGHTING,"Almost..."),o),endEventName:(r={},(0,u.default)(r,c.is.SHABBAT,"until Shabbat ends"),(0,u.default)(r,c.is.NOT_SHABBAT,"until candle lighting"),(0,u.default)(r,c.is.CANDLELIGHTING,"until Shabbat begins"),r),startEventName:(i={},(0,u.default)(i,c.is.SHABBAT,"Shabbat ends"),(0,u.default)(i,c.is.NOT_SHABBAT,"Candle Lighting"),(0,u.default)(i,c.is.CANDLELIGHTING,"Shabbat begins"),i),screens:{settings:"Settings",info:"Credits"}}};t.default=l},108:function(e,t,n){"use strict";n.r(t);var a=n(0),o=n.n(a),r=n(33),i=n.n(r),u=(n(44),n(38)),c=n(7),l=n(2),s=n(36),d=n(18),f=n.n(d),p=n(37),v=l.utilities.DateTime,h={coords:{latitude:31.776875,longitude:35.233673}},m=Object(p.a)(f.a.mark(function e(){return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Promise.all([new Promise(function(e){navigator.geolocation?navigator.geolocation.getCurrentPosition(function(t){e(t)},function(){return e(h)}):e(h)}).then(function(e){var t=l.action.initialize(v.local(),e);l.state.dispatch(t)})]));case 1:case"end":return e.stop()}},e)})),b=(n(107),l.components.ShabbatCheck),y=l.components.CountDown,w=l.localization.en.translate,g=Object(c.b)(function(e){return{now:e.now,location:e.location}})(function(e){var t=e.now,n=e.location,a=e.dispatch;return o.a.createElement(b,{now:t,location:n},function(e,n){return o.a.createElement(o.a.Fragment,null,o.a.createElement("span",{id:"is-it"},w.status[e]),o.a.createElement("span",{id:"byline"},o.a.createElement(y,{end:n,start:t,callback:function(e){return a(l.action.setNow(e))}},function(t){return o.a.createElement(o.a.Fragment,null,o.a.createElement("span",{id:"days-left"},function(e){var t=e.shiftTo("days","hours","minutes","seconds","milliseconds").toObject(),n=t.days,a=t.hours,o=t.minutes,r=t.seconds;return 0===o&&0===a&&0===n?"".concat(r,"s"):0===a&&0===n?"".concat(o,"m ").concat(r,"s"):0===n?"".concat(a,"h ").concat(o,"m ").concat(r,"s"):"".concat(n,"d ").concat(a,"h ").concat(o,"m ").concat(r,"s")}(t)),o.a.createElement("br",null),o.a.createElement("span",{id:"day-or-days"},w.endEventName[e]))})))})}),O=l.localization.en.translate,E=0,T=1,_=2,S=function(){return o.a.createElement(o.a.Fragment,null,o.a.createElement("span",{id:"is-it"},"-"),o.a.createElement("span",{id:"byline"},o.a.createElement("span",{id:"days-left"},"-"),o.a.createElement("br",null),o.a.createElement("span",{id:"day-or-days"},O.endEventName[s.is.NOT_SHABBAT])))},A=function(){var e=Object(a.useState)(E),t=Object(u.a)(e,2),n=t[0],r=t[1];return Object(a.useEffect)(function(){n===E&&(r(T),m().then(function(){r(_)}))}),o.a.createElement("div",{className:"container"},o.a.createElement("span",{id:"title"},"Is It Shabbat?"),n===_?o.a.createElement(c.a,{store:l.state},o.a.createElement(g,null)):o.a.createElement(S,null))},j=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function k(e,t){navigator.serviceWorker.register(e).then(function(e){e.onupdatefound=function(){var n=e.installing;null!=n&&(n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}}).catch(function(e){console.error("Error during service worker registration:",e)})}i.a.render(o.a.createElement(A,null),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",function(){var t="".concat("","/service-worker.js");j?(function(e,t){fetch(e).then(function(n){var a=n.headers.get("content-type");404===n.status||null!=a&&-1===a.indexOf("javascript")?navigator.serviceWorker.ready.then(function(e){e.unregister().then(function(){window.location.reload()})}):k(e,t)}).catch(function(){console.log("No internet connection found. App is running in offline mode.")})}(t,e),navigator.serviceWorker.ready.then(function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")})):k(t,e)})}}()},2:function(e,t,n){"use strict";var a=n(48),o=n(3);Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"api",{enumerable:!0,get:function(){return r.default}}),Object.defineProperty(t,"state",{enumerable:!0,get:function(){return u.default}}),Object.defineProperty(t,"localization",{enumerable:!0,get:function(){return s.default}}),t.utilities=t.styles=t.action=t.components=void 0;var r=o(n(49)),i=a(n(78));t.components=i;var u=a(n(95));t.action=u;var c=a(n(99));t.styles=c;var l=a(n(100));t.utilities=l;var s=o(n(101))},21:function(e,t,n){"use strict";var a=n(3);Object.defineProperty(t,"__esModule",{value:!0}),t.getHolidaysAsync=t.sendHolidayRequestAsync=void 0;var o=a(n(50)),r=a(n(53)),i=a(n(57)),u=a(n(9)),c=n(58),l=n(6).DateTime,s={v:1,cfg:"json",c:"off",D:"on",d:"off"},d={maj:"on",min:"off",mod:"off",nx:"on",ss:"off",s:"off",mf:"off",o:"off",lg:"a",i:"off"},f=function(e,t){return c({method:"get",url:"https://www.hebcal.com/hebcal/",params:(0,u.default)({},d,t,{year:e.year,month:e.month},s)})};t.sendHolidayRequestAsync=f;var p=function(){var e=(0,i.default)(o.default.mark(function e(t,n){var a,i,c,s,d,p=arguments;return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(a=p.length>2&&void 0!==p[2]?p[2]:{},!(n<=0)){e.next=3;break}return e.abrupt("return",[]);case 3:return i=Array(n).fill().map(function(e,t){return t}).map(function(e){return t.plus({months:e})}),e.next=6,Promise.all(i.map(function(e){return f(e,a)})).then(function(e){return e.map(function(e){return e.data.items}).reduce(function(e,t){return e.concat(t)})});case 6:return c=e.sent,s=new Map,c.filter(function(e){return"hebdate"===e.category}).forEach(function(e){s[e.date]=e.title}),d=c.filter(function(e){return"hebdate"!==e.category}),e.abrupt("return",d.map(function(e){var n=e.date.split("-").map(Number),a=(0,r.default)(n,3),o=a[0],i=a[1],c=a[2];return(0,u.default)({},e,{hebdate:s[e.date],date:l.fromObject({year:o,month:i,day:c,hour:0,minute:0,second:0,zone:t.zone}).minus({days:1})})}));case 11:case"end":return e.stop()}},e)}));return function(t,n){return e.apply(this,arguments)}}();t.getHolidaysAsync=p},31:function(e,t,n){"use strict";var a=n(3);Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.reducer=t.defaultState=void 0;var o=a(n(9)),r=n(96),i=n(6),u=a(n(97)),c=function(e,t){return{now:e.setZone((0,u.default)(t.coords.latitude,t.coords.longitude))}},l={now:i.DateTime.local(),location:null,holidays:[],lastHolidayRequest:null};t.defaultState=l;var s=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if("INITIALIZE"===t.type){var n=c(t.now,t.location).now;return(0,o.default)({},e,{location:t.location,now:n})}return"SET_LOCATION"===t.type?(0,o.default)({},e,c(e.now,t.location),{location:t.location}):"SET_NOW"===t.type?(0,o.default)({},e,c(t.now,e.location)):"SET_HOLIDAYS"===t.type?(0,o.default)({},e,{holidays:t.holidays,lastHolidayRequest:t.now}):e};t.reducer=s;var d=(0,r.createStore)(s);t.default=d},39:function(e,t,n){e.exports=n(108)},44:function(e,t,n){},49:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(21);Object.keys(a).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return a[e]}})})},78:function(e,t,n){"use strict";var a=n(3);Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"CountDown",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(t,"ShabbatCheck",{enumerable:!0,get:function(){return r.default}});var o=a(n(79)),r=a(n(92))},79:function(e,t,n){"use strict";var a=n(3);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=a(n(80)),r=a(n(81)),i=a(n(82)),u=a(n(85)),c=a(n(86)),l=n(28),s=a(n(29)),d=n(6),f=function(e){function t(e){var n;return(0,o.default)(this,t),(n=(0,i.default)(this,(0,u.default)(t).call(this,e))).state={realNow:d.DateTime.local()},n.startCountdown(),n}return(0,c.default)(t,e),(0,r.default)(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props.refreshInterval;this.timerId=setInterval(function(){return e.tick()},t)}},{key:"componentWillUnmount",value:function(){clearInterval(this.timerId)}},{key:"getTime",value:function(){var e=this.state.realNow;return this.props.start.plus(e-this.realStart)}},{key:"startCountdown",value:function(){this.realStart=d.DateTime.local()}},{key:"durationLeft",value:function(){var e=this.props,t=e.end,n=e.start,a=this.state.realNow;return t.diff(n).minus(a-this.realStart)}},{key:"update",value:function(){this.setState({realNow:d.DateTime.local()})}},{key:"tick",value:function(){var e=this.props.callback;this.update(),this.durationLeft()<=0&&(e(this.getTime()),this.startCountdown(),this.update())}},{key:"render",value:function(){var e=this.durationLeft();return(0,this.props.children)(e)}}]),t}(l.Component);t.default=f,f.propTypes={start:s.default.instanceOf(d.DateTime).isRequired,end:s.default.instanceOf(d.DateTime).isRequired,refreshInterval:s.default.number,callback:s.default.func,children:s.default.func},f.defaultProps={callback:function(){},children:function(){},refreshInterval:100}},92:function(e,t,n){"use strict";var a=n(3);Object.defineProperty(t,"__esModule",{value:!0}),t.default=u,n(28);var o=a(n(29)),r=n(6),i=n(11);function u(e){var t=e.now,n=e.location,a=e.children;if(!n)return null;var o=n.coords,r=o.latitude,u=o.longitude,c=(0,i.isItShabbat)(t,r,u);return a(c.period,c.countDownTo)}u.propTypes={now:o.default.instanceOf(r.DateTime).isRequired,location:o.default.shape({coords:o.default.shape({latitude:o.default.number,longitude:o.default.number})}).isRequired,children:o.default.func},u.defaultProps={children:function(){}}},95:function(e,t,n){"use strict";var a=n(3);Object.defineProperty(t,"__esModule",{value:!0});var o={};t.default=void 0;var r=a(n(31)),i=n(98);Object.keys(i).forEach(function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(o,e)||Object.defineProperty(t,e,{enumerable:!0,get:function(){return i[e]}}))});var u=r.default;t.default=u},98:function(e,t,n){"use strict";var a=n(3);Object.defineProperty(t,"__esModule",{value:!0}),t.updateHolidays=t.initialize=t.setLocation=t.setNow=void 0;var o=a(n(9)),r=n(11),i=n(21),u=a(n(31));t.setNow=function(e){return{type:"SET_NOW",now:e}};t.setLocation=function(e){return{type:"SET_LOCATION",location:e}};t.initialize=function(e,t){return{type:"INITIALIZE",now:e,location:t}};var c=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=u.default.getState(),n=t.now,a=t.location,c=t.lastHolidayRequest;return e||!c||n.month!==c.month||n.year!==c.year?(0,i.getHolidaysAsync)(n,2,{}).then(function(e){return u.default.dispatch(function(e,t){return{type:"SET_HOLIDAYS",holidays:e,now:t}}(e.map(function(e){return(0,o.default)({},e,{date:(0,r.sunset)(e.date,a.coords.latitude,a.coords.longitude)})}).filter(function(e){return e.date>n}),n))}):Promise.resolve(!1)};t.updateHolidays=c,u.default.subscribe(c)},99:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.size=t.fonts=t.colors=void 0;t.colors={background:"#3D2F40",textMain:"#F4BDFF",textSubtle:"#7A5F7F"};t.fonts={primary:"FredokaOne"};t.size={title:72,secondary:22,subtitle:18}}},[[39,1,2]]]);
//# sourceMappingURL=main.c941b510.chunk.js.map